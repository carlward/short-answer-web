(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(3),o=a.n(s),l=(a(15),a(1)),c=a(4),i=a(5),u=a(7),m=a(6),d=a(8),h=function(e){var t="form-input";return e.touched&&!e.valid&&(t="form-input input-error"),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",Object.assign({},e,{className:t})))},f=function(e){var t=e.metric,a=e.name;return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,t))},p=function(e){var t=[],a=e.estimScore;return t.push(r.a.createElement(f,{metric:a,name:"Score",key:a})),e.scoreProbs.forEach(function(e){return t.push(r.a.createElement(f,{metric:e[1].toPrecision(4),name:e[0],key:e[1]}))}),r.a.createElement("table",{className:e.className},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Metric"),r.a.createElement("th",null,"Value"))),r.a.createElement("tbody",null,t))},E=function(e){return r.a.createElement("div",{className:"result-table"},r.a.createElement(p,{estimScore:e.estimScore,scoreProbs:e.scoreProbs,className:"result-table"}))},v="https://8wplgcc305.execute-api.us-west-2.amazonaws.com/prod/score-answers",w=Object({NODE_ENV:"production",PUBLIC_URL:"/short-answer-web",REACT_APP_SHORT_ANSWER_INFERENCE_API_KEY:"WIEnH8bkkL6RHTi0VvJJg6jzhiw1vWaL2PDV6ClR"}).SHORT_ANSWER_INFERENCE_API_KEY,b=function(e,t){return e.length>=t.minLength&&e.length<=t.maxLength},A=function(e){return""!==e.trim()},g=function(e,t){var a=!0;for(var n in t)switch(n){case"length":a=a&&b(e,t[n]);break;case"isRequired":a=a&&A(e);break;default:a=!0}return a},S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.value,r=t.name,s=Object(l.a)({},a.state.formInputs),o=Object(l.a)({},s[r]);o.value=n,o.touched=!0,o.valid=g(n,o.validationRules),s[r]=o;var c=!0;for(var i in s)c=c&&s[i].valid;a.setState({formInputs:s,isValid:c})},a.handleSubmit=function(){var e={};for(var t in a.state.formInputs)e[t]=a.state.formInputs[t].value;var n={seq:[e.studentAnswer],refSeq:[e.refAnswer]};a.postData(v,n).then(function(e){a.setState({estimScore:e.data[0].estimScore,scoreProbs:Object.entries(e.data[0].scoreProbs),isSubmitted:!0})}).catch(console.log),console.log(a.state)},a.postData=function(e,t){return fetch(e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","x-api-key":w},body:JSON.stringify(t)}).then(function(e){return e.json()})},a.state={isValid:!1,isSubmitted:!1,estimScore:1,scoreProbs:[],formInputs:{studentAnswer:{value:"",valid:!1,placeholder:"Enter student answer",validationRules:{length:{minLength:5,maxLength:500},isRequired:!0},touched:!1},refAnswer:{value:"",valid:!1,placeholder:"Enter reference answer",validationRules:{length:{minLength:5,maxLength:500},isRequired:!0},touched:!1}}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App-AnswerBoxes"},r.a.createElement("label",{htmlFor:"studentAnswer",className:"studentAnswer"},"Student Answer"),r.a.createElement(h,{name:"studentAnswer",placeholder:this.state.formInputs.studentAnswer.placeholder,value:this.state.formInputs.studentAnswer.value,onChange:this.handleChange,touched:this.state.formInputs.studentAnswer.touched,valid:this.state.formInputs.studentAnswer.valid}),r.a.createElement("label",{htmlFor:"studentAnswer",className:"refAnswer"},"Reference Answer"),r.a.createElement(h,{name:"refAnswer",placeholder:this.state.formInputs.refAnswer.placeholder,value:this.state.formInputs.refAnswer.value,onChange:this.handleChange,touched:this.state.formInputs.refAnswer.touched,valid:this.state.formInputs.refAnswer.valid}),r.a.createElement("button",{onClick:this.handleSubmit,disabled:!this.state.isValid},"Submit"),this.state.isSubmitted&&r.a.createElement("label",{htmlFor:"scoreResult",className:"result"},"Result"),this.state.isSubmitted&&r.a.createElement(E,{name:"scoreResult",estimScore:this.state.estimScore,scoreProbs:this.state.scoreProbs}))}}]),t}(r.a.Component);a(16);var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h2",null,"Automated Short Answer Grader")),r.a.createElement("h3",null,"Grader Demo"),r.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.160718c0.chunk.js.map